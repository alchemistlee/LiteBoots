<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Tigerobo Translation</title>
    <link rel="shortcut icon" href="../static/favicon.ico" type="image/x-icon">
    <script src="../static/jquery-3.3.1.min.js"></script>
</head>
<body style="margin: 0px;">

    <div class='content'>
        <div class="logo"><img  class="logo_image"src="../static/tigerobo_log_sentiment.svg"></div>
            <div class="left box">
                <div class="button_content">
                    <!--<div style="margin-top: 0.3%;float: right;display: none;" class="translation">-->
                        <!--<img  style="width: 20px;height: 20px" src="../static/translation-icon@3x.png" alt="">-->
                    <!--</div>-->
                </div>
                <div class='inputBox dislike'>
                    <textarea maxlength="5000" onblur="onBlur()" onfocus='onFocus()' on id="input" onkeyup="enter(input)"  class='textarea' style="" ></textarea>
                    <div style="height:20px;line-height:17px">
                        <div class="weui_textarea_counter"><span id="num">0</span>/5000</div>
                    </div>
                </div>
                <div class="button-box">
                    <div style='border-radius:2px;text-align: center' class='button' id='detection' onclick="sentiment_it()">Sentiment</div>
                </div>
                <div id='ENG' class="result-box">
                    <image class="resul-img" src="../static/dislike.png"> 
                        <span>
                                ENG
                        </span>
                        
                </div>
                <div id='POS' class="result-box">
                     <image class="resul-img" src="../static/like.png"> 
                        <span>
                                POS
                        </span>
                </div>

            </div>

    
    </div>

</body>
<script type="text/javascript">
    // var select_input_language = 'en';
    // var select_output_language = 'zh';
    // var switch_of_detect = true;

    function onFocus(){
        $('.inputBox').addClass('fouce')
    }
    function onBlur(){
        $('.inputBox').removeClass('fouce')
    }
    function sentiment_it() {

        var input= $("#input").val();
        alert("input = "+input);
        $.post("/",
            {"input":input},
            function (result) {
                // alert(result)
                // res = JSON.parse(result)
                res =eval('(' + result + ')');;
                out_res = res.output;
                // score = res.score;
                info = out_res;
                $("#output").text(info);
        });

    }

    // function active_zh_in() {
    //     $("#zh-in").addClass("active");
    //     // $("#tr-in").removeClass("active");
    //     $("#en-in").removeClass("active");
    //     select_input_language="zh";
    // }
    //
    // // function active_tr_in() {
    // //     $("#zh-in").removeClass("active");
    // //     $("#tr-in").addClass("active");
    // //     $("#en-in").removeClass("active");
    // //     select_input_language="tr";
    // // }
    //
    // function active_en_in() {
    //     $("#zh-in").removeClass("active");
    //     // $("#tr-in").removeClass("active");
    //     $("#en-in").addClass("active");
    //     select_input_language="en";
    // }
    //
    //  function active_zh_out() {
    //     $("#zh-out").addClass("active");
    //     $("#tr-out").removeClass("active");
    //     $("#en-out").removeClass("active");
    //     select_output_language="zh";
    // }
    //
    // function active_tr_out() {
    //     $("#zh-out").removeClass("active");
    //     $("#tr-out").addClass("active");
    //     $("#en-out").removeClass("active");
    //     select_output_language="tr";
    // }
    //
    // function active_en_out() {
    //     $("#zh-out").removeClass("active");
    //     $("#tr-out").removeClass("active");
    //     $("#en-out").addClass("active");
    //     select_output_language="en";
    // }
    // function detect_it(input) {
    //     wordStatic(input);
    //     if(switch_of_detect) {
    //         var pattern_cn = "[\u4e00-\u9fa5]+";
    //         var input = $("#input").val();
    //         if (input != "") {
    //             var matchResult = input.match(pattern_cn);
    //             if (matchResult != null) {
    //                 active_zh_in();
    //                 active_en_out();
    //             }
    //             else {
    //                 active_en_in();
    //                 active_zh_out();
    //             }
    //         }
    //     }
    //
    // }
    //
    // function switch_detect() {
    //     changeClass();
    // }
    //
    //
    // function changeClass(){
    //     if(document.getElementById('detection').className.indexOf('clicked')>0){
    //         document.getElementById('detection').classList.remove('clicked')
    //         switch_of_detect = true;
    //     }else{
    //         document.getElementById('detection').classList.add('clicked')
    //         switch_of_detect =false;
    //     }
    //
    // }
    // function wordStatic(input) {
    //     // 获取要显示已经输入字数文本框对象
    //     var content = document.getElementById('num');
    //     if (content && input) {
    //         // 获取输入框输入内容长度并更新到界面
    //         var value = input.value;
    //         // 将换行符不计算为单词数
    //         value = value.replace(/\n|\r/gi,"");
    //         // 更新计数
    //         content .innerText = value.length;
    //     }
    // }
    function enter(e){
          
        if(event.keyCode == 13)     alert('回车');  
         

    }


</script>

</html>

<style>
    .active{
        background-color: #eee;
        color:#4d90fe;
    }
    .translation{
        float: left;
    }

    .button_content{
        /* display: flex;
        flex-direction: row; */
        width: 100%;
        background-color: #f8f8f8;
        /* width:10px; */
        border-radius: 2px;
        margin-bottom: 45px
    }
    .title{
        border-bottom:1px solid #EAEAEA ;
        height: 50px;
        font-size: 17px;
        /*color: #333;*/
        color: dodgerblue;
        line-height: 50px;
        padding-left: 20px;
    }

    .content{
        width: 100%;
        height: 100%;
        position: absolute
    }
    .left{
        width: 47%;
        height: 47%;
        min-width: 375px;
        max-width: 630px;
        float: left;
    }
    .right{
        width: 47%;
        height: 47%;
        min-width: 375px;
        max-width: 630px;
        float: left;
        /* background-color: #128 */
    }
    .box{
        margin: 1%;
    }
    .textarea{
        width: 96%;
        min-height: 200px;
        min-width: 375px;

        /* margin-top: 20px; */
        background-color: white;
        border: 1px solid #ccc;
        padding: 2px;
        font-size: 18px;
        outline:none;
        border:none;
        resize:none;
        margin  : 2px;
    }
    .button{
        color: #ffffff;
        padding: 0 10px 0 10px ;
        background-color: #4d90fe;
        cursor: pointer;
        font-size: 13px;
        text-align: center;
        white-space: nowrap;
        float: left;
        height: 40px;
        line-height: 40px;
    }

    .status-bar{
        border:1px solid #eee;
        /* float: left; */
        padding: 0 10px 0 10px ;
        cursor: default;
        font-size: 11px;
        font-weight: bold;
        text-align: center;
        white-space: nowrap;
        float: left;
        /* margin-top: 2px; */
        height: 26px;
        line-height: 26px;
    }

    .logo{
        background: #eee;
        padding: 20px;
        height: 30px;
        padding-bottom: 15px;
        width: 100%;

    }

    .logo_image{
        height: 30px;
        margin-top: 0px;
    }
    .noChange{
        background-color:#eee;
        border: none;
    }
    .weui_textarea_counter{
        font-size: 10px;
        color: #888;
        margin-right: 5px;
        float: right;

    }
    .inputBox{
        border: 1px solid #ccc;
        margin-top: 20px;
        border-radius: 2px;
    }
    .clicked{
        background: #eee;
        /* color: #0D2F7A;  */
        /* 虎博蓝 */
        color: #4d90fe;
         /* google蓝 */
    }
    .fouce{
        border: 1px solid #4d90fe
    }
    body{
        font-family: HelveticaNeue,Helvetica,Arial,sans-serif;
    }
    .button-box{
        width: 100%;
        display: flex;
        justify-content: center;
        padding-top: 20px
    }
    .result-box{
        height: 30px;
        line-height: 30px;
        display: flex;
        justify-content: center;
        margin-top: 20px

    }
    .resul-img{
        width: 30px;
        height: 30px;
    }
    .dislike{
        border: 1px solid #FF5F5F
    }
</style>